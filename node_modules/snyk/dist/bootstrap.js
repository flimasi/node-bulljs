"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const common = require("./common");
const process = require("process");
const errorContextMessage = 'Download Error';
try {
    const config = common.getCurrentConfiguration();
    const executable = config.getLocalLocation();
    if (process.argv.includes('exec')) {
        const filenameShasum = config.getShasumFile();
        const downloadUrl = config.getDownloadLocation();
        common
            .downloadExecutable(downloadUrl, executable, filenameShasum)
            .then((error) => {
            if (error !== undefined) {
                common
                    .logError(errorContextMessage, error)
                    .then(() => process.exit(1));
            }
        })
            .catch((err) => {
            common.logError(errorContextMessage, err).then(() => process.exit(2));
        });
    }
}
catch (err) {
    common.logError(errorContextMessage, err).then(() => process.exit(3));
}
//# sourceMappingURL=bootstrap.js.map